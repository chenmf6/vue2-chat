{"version":3,"sources":["webpack:///./src/api/storage.js","webpack:///./src/store/mutation_types.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/api/yesno_teller.js","webpack:///./src/main.js","webpack:///./src/store/actions.js","webpack:///./src/store/getters.js","webpack:///App.vue","webpack:///Card.vue","webpack:///Editor.vue","webpack:///Message.vue","webpack:///SessionList.vue","webpack:///./src/components/Editor.vue?a499","webpack:///./src/components/Card.vue?0824","webpack:///./src/components/SessionList.vue?1ed5","webpack:///./src/components/Message.vue?d492","webpack:///./src/App.vue?186f","webpack:///./src/components/Card.vue?52ac","webpack:///./src/components/Editor.vue?898c","webpack:///./src/components/Message.vue?2469","webpack:///./src/components/SessionList.vue?d91c","webpack:///./src/components/Editor.vue?b954","webpack:///./src/components/Card.vue?4fc1","webpack:///./src/components/SessionList.vue?ab9e","webpack:///./src/components/Message.vue?e0f8","webpack:///./src/App.vue?570c","webpack:///./src/store/mutations"],"names":["STORAGE_KEY","setStorage","val","sessionStorage","setItem","getStorage","getItem","SET_SESSIONS","SEND_MESSAGE","SELECT_SESSION","SET_FILTER_KEY","Vue","use","debug","now","Date","state","user","name","img","sessions","id","messages","content","date","currentSessionId","filterKey","store","Vuex","Store","getters","actions","mutations","strict","plugins","createLogger","watch","deep","baseUrl","getAnswer","question","cb","answer","axios","get","then","res","data","catch","error","config","devtools","filter","toLocaleTimeString","el","template","components","App","initSessions","commit","JSON","parse","length","sendMessage","self","selectSession","setFilterKey","key","toLocaleLowerCase","filteredSessions","session","indexOf","currentSession","find"],"mappings":"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;;;;;;;;;;;;;ACFA;AACA;;AAEA;wBAEA;;iBAGA;AAFA;AAGA;;AACA,qKACA,2FAGA;;;oCAEA;WACA;AAGA;AALA;;AAMA,sKACA;gFACA;6BACA;OAEA;;AAtBA,G;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;;AAEA;wBAEA;;eAGA;AAFA;AAGA;;AACA,qKAEA;AACA,sKACA;qCACA;iDACA;aACA;AACA;AACA;0BACA;gCACA;AACA;AACA;uCACA;AACA;uCACA;iBACA;4BACA;+BACA;mHACA;oDACA;AACA;WACA;AACA;qBACA;AAEA;;AAjCA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUA;AACA;;AAEA;QAEA;AACA,qKACA;aAIA;AAHA;;AAIA;;+BACA;YACA;AACA;AACA;;;wCAEA;;eAGA;AAFA;AAIA;AANA;;;YASA;;AACA;;gCACA;qCACA;iCACA;wDACA;iEACA;oDACA;AACA;AACA;8EACA;AACA;AACA;AAGA;AAhBA;AADA;AApBA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;;AAEA;4FAEA;AACA,qKACA,uGAEA;AALA,G;;;;;;;ACxBA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA;AACA,yBAAiV;AACjV;AACA;AACA;AACA;AACA;AACA,yBAA6N;AAC7N;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;AACA,yBAAiV;AACjV;AACA;AACA;AACA;AACA;AACA,yBAA6N;AAC7N;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;AACA,yBAAiV;AACjV;AACA;AACA;AACA;AACA;AACA,yBAA6N;AAC7N;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;AACA,yBAAiV;AACjV;AACA;AACA;AACA;AACA;AACA,yBAA6N;AAC7N;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;AC7BD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACnCD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH,CAAC,qB;;;;;;;AC1BD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH,CAAC,qB;;;;;;;AC9BD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC,qB;;;;;;;;ACRD;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA,mFAAgC,SAAS;AACzC;AACA,GAAG;;AAEH;AACA,mFAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,qFAAkC,GAAG;AACrC;AACA,GAAG;;AAEH;AACA,qFAAkC,IAAI;AACtC;AACA;AACA;;AAEA","file":"static/js/app.bef5bdff7a0bcc7af77a.js","sourcesContent":["/**\n * Created by chenmf on 2017/6/26.\n */\nconst STORAGE_KEY = 'vue2-chat-session';\n\nexport function setStorage (val) {\n  sessionStorage.setItem(STORAGE_KEY, JSON.stringify(val));\n}\n\nexport function getStorage () {\n  return sessionStorage.getItem(STORAGE_KEY);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/storage.js","/**\n * Created by chenmf on 2017/6/23.\n */\nexport const SET_SESSIONS = 'SET_SESSIONS';\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\nexport const SELECT_SESSION = 'SELECT_SESSION';\nexport const SET_FILTER_KEY = 'SET_FILTER_KEY';\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation_types.js","/**\n * Created by chenmf on 2017/6/23.\n */\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport createLogger from 'vuex/dist/logger';\n\nimport * as getters from './getters';\nimport * as actions from './actions';\nimport mutations from './mutations';\nimport {setStorage} from '../api/storage';\n\nVue.use(Vuex);\nconst debug = process.env.NODE_ENV !== 'production';\n\nconst now = new Date();\nconst state = {\n  // 当前用户\n  user: {\n    name: 'chenmf6',\n    img: 'static/img/user-logo.jpg'\n  },\n\n  // 会话列表\n  sessions: [\n    {\n      id: 1,\n      user: {\n        name: 'YesNo',\n        img: 'static/img/yesno-logo.jpg'\n      },\n      messages: [\n        {\n          content: 'Ask me anything, and I will tell you \"yes\" or \"no\"',\n          date: now\n        },\n        {\n          content: 'Questions usually end with a question mark.',\n          date: now\n        }\n      ]\n    },\n    {\n      id: 2,\n      user: {\n        name: 'vue',\n        img: 'static/img/vue-logo.png'\n      },\n      messages: [\n        {\n          content: 'Hello!',\n          date: now\n        },\n        {\n          content: '中文官网:https://cn.vuejs.org/',\n          date: now\n        }\n      ]\n    },\n    {\n      id: 3,\n      user: {\n        name: 'webpack',\n        img: 'static/img/webpack-logo.jpg'\n      },\n      messages: [\n        {\n          content: 'http://webpack.github.io/',\n          date: now\n        }\n      ]\n    }\n  ],\n\n  // 当前会话\n  currentSessionId: 1,\n\n  // 筛选会话关键词\n  filterKey: ''\n};\n\nconst store = new Vuex.Store({\n  state,\n  getters,\n  actions,\n  mutations,\n  strict: debug,\n  plugins: debug ? [createLogger()] : []\n});\n\nstore.watch(\n  (state) => state.sessions,\n  (val) => val ? setStorage(val) : setStorage([]),\n  {\n    deep: true\n  }\n);\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fcc0467c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fcc0467c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-fcc0467c\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 138\n// module chunks = 1","/**\n * Created by chenmf on 2017/7/15.\n */\nimport axios from 'axios';\n\nconst baseUrl = process.env.NODE_ENV === 'production' ? 'https://yesno.wtf' : '';\n\nexport default {\n  getAnswer (question, cb) {\n    let answer = '';\n    axios.get(baseUrl + '/api').then(res => {\n      answer = res.data.answer;\n      return cb(answer);\n    }).catch(error => {\n      answer = 'Error! Could not reach the API ' + error;\n      return cb(answer);\n    });\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/yesno_teller.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport 'babel-polyfill';\n\nimport Vue from 'vue';\nimport App from './App';\nimport store from './store';\n\nVue.config.devtools = true;\n\nVue.filter('time', date => {\n  return new Date(date).toLocaleTimeString();\n});\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  template: '<App/>',\n  components: { App }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/**\n * Created by chenmf on 2017/6/21.\n */\nimport * as types from './mutation_types';\nimport {getStorage} from '../api/storage';\n\nexport const initSessions = ({commit}) => {\n  let data = JSON.parse(getStorage());\n  if (data && data.length) {\n    commit(types.SET_SESSIONS, {sessions: data});\n  }\n};\n\nexport const sendMessage = ({commit}, {content, self = true}) => {\n  commit(types.SEND_MESSAGE, {content, self});\n};\n\nexport const selectSession = ({commit}, id) => {\n  commit(types.SELECT_SESSION, {id});\n};\n\nexport const setFilterKey = ({commit}, key) => {\n  key = key.toLocaleLowerCase();\n  commit(types.SET_FILTER_KEY, {key});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","/**\n * Created by chenmf on 2017/6/23.\n */\nexport const filteredSessions = state => {\n  return state.sessions.filter(\n    session => session.user.name.toLocaleLowerCase().indexOf(state.filterKey) !== -1);\n};\n\nexport const currentSession = state => {\n  return state.sessions.find(session => session.id === state.currentSessionId);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","<template>\n  <div class=\"app\">\n    <div class=\"sidebar\">\n      <card></card>\n      <session-list></session-list>\n    </div>\n    <div class=\"main\">\n      <message></message>\n      <editor></editor>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import Card from 'components/Card';\n  import SessionList from 'components/SessionList';\n  import Editor from 'components/Editor';\n  import Message from 'components/Message';\n\n  export default {\n    name: 'App',\n    components: {Card, SessionList, Editor, Message},\n    created () {\n      this.$store.dispatch('initSessions');\n    }\n\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .app {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    margin: auto;\n    width: 800px;\n    height: 600px;\n\n    overflow: hidden;\n    border-radius: 3px;\n\n    .sidebar, .main {\n      height: 100%;\n    }\n    .sidebar {\n      float: left;\n      width: 200px;\n      color: #f4f4f4;\n      background-color: #2e3238;\n    }\n    .main {\n      position: relative;\n      overflow: hidden;\n      background-color: #eee;\n    }\n    .text {\n      position: absolute;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n    }\n    .message {\n      height: ~'calc(100% - 160px)';\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?72ae5a1e","<template>\n    <div class=\"card\">\n      <header>\n        <img\n          class=\"avatar\"\n          height=\"40\"\n          width=\"40\"\n          :alt=\"user.name\"\n          :src=\"user.img\">\n        <p class=\"name\">{{user.name}}</p>\n      </header>\n      <footer>\n        <input class=\"search\" type=\"text\" placeholder=\"搜索会话...\" v-model=\"searchKey\">\n      </footer>\n\n    </div>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport { mapState, mapGetters, mapActions } from 'vuex';\n\nexport default {\n  data () {\n    return {\n      searchKey: ''\n    };\n  },\n  computed: {\n    ...mapState(['user']),\n    ...mapGetters(['filteredSessions'])\n  },\n\n  watch: {\n    searchKey: function () {\n      this.setKey();\n    }\n  },\n\n  methods: {\n    ...mapActions(['setFilterKey']),\n    setKey: _.debounce(function () {\n      this.setFilterKey(this.searchKey);\n    }, 150)\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.card {\n  padding: 12px;\n  border-bottom: solid 1px #24272C;\n\n  footer {\n    margin-top: 10px;\n  }\n\n  .avatar, .name {\n    vertical-align: middle;\n  }\n  .avatar {\n    border-radius: 2px;\n  }\n  .name {\n    display: inline-block;\n    margin: 0 0 0 15px;\n    font-size: 16px;\n  }\n  .search {\n    padding: 0 10px;\n    width: 100%;\n    font-size: 12px;\n    color: #fff;\n    line-height: 30px;\n    border-radius: 4px;\n    border: solid 1px #3a3a3a;\n    background-color: #26292e;\n  }\n\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Card.vue?a35727da","<template>\n  <div class=\"text\">\n    <textarea\n      placeholder=\"按 Ctrl + Enter 发送\"\n      v-model=\"content\"\n      @keydown=\"keySend\"></textarea>\n    <div class=\"send\" @click=\"send\">Send</div>\n  </div>\n</template>\n\n<script>\n  import {mapState, mapActions} from 'vuex';\n  import YesnoTeller from '../api/yesno_teller';\n\n  export default {\n    data () {\n      return {\n        content: ''\n      };\n    },\n    computed: {\n      ...mapState(['currentSessionId'])\n    },\n    methods: {\n      ...mapActions(['sendMessage']),\n      keySend: function (event) {\n        if (event.ctrlKey && event.keyCode === 13) {\n          this.send();\n        }\n      },\n      send: function () {\n        if (!this.content.length) {\n          return;\n        }\n        this.sendMessage({content: this.content});\n        // get yesno answer\n        if (this.currentSessionId === 1) {\n          const vm = this;\n          const question = this.content;\n          setTimeout(() => {\n            YesnoTeller.getAnswer(question, answer => {\n              vm.sendMessage({content: answer, self: false});\n            });\n          }, 1000);\n        }\n        this.content = '';\n      }\n    }\n  };\n</script>\n\n<style scoped lang=\"less\">\n  .text {\n    height:160px;\n    border-top: solid 1px #ddd;\n    .send {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      padding: 5px 10px;\n      margin: 10px;\n      font-size: 16px;\n      background-color: #eee;\n      border: solid 1px #bbb;\n      border-radius: 2px;\n      cursor: pointer;\n      opacity: 0.8;\n      &:hover {\n        opacity: 1;\n      }\n    }\n    textarea {\n      padding: 10px;\n      height:100%;\n      width: 100%;\n      border: none;\n      outline:none;\n      font-family: \"Microsoft YaHei\";\n      resize: none;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Editor.vue?4d1b3ffe","<template>\n<div class=\"message\" ref=\"messageWrapper\">\n  <ul v-if=\"session\">\n    <li v-for=\"item in session.messages\" ref=\"messageList\">\n      <p class=\"time\">\n        <span>{{item.date | time}}</span>\n      </p>\n      <div class=\"main\" :class=\"{self:item.self}\">\n        <img\n          class=\"avatar\"\n          width=\"30\"\n          height=\"30\"\n          :src=\"item.self ? user.img : session.user.img\">\n        <div class=\"text\">\n          <p v-for=\"line in item.content.split('\\n')\" class=\"line\">\n            {{line}}\n          </p>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\nimport IScroll from 'iscroll';\n\nexport default {\n  name: 'Message',\n  computed: {\n    ...mapState(['user']),\n    ...mapGetters({\n      session: 'currentSession'\n    })\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this._initScroll();\n    });\n  },\n  methods: {\n    _initScroll () {\n      this.messageScroll = new IScroll(this.$refs.messageWrapper, {\n        click: true\n      });\n    }\n  },\n  watch: {\n    'session.messages': {\n      deep: true,\n      handler () {\n        if (this.messageScroll) {\n          this.$nextTick(() => {\n            this.messageScroll.refresh();\n            if (this.messageScroll.hasVerticalScroll) {\n              let el = this.$refs.messageWrapper.querySelector('li:last-child');\n              this.messageScroll.maxScrollY -= el.clientHeight;\n              // this.messageScroll.scrollToElement(el, 300, 0, el.clientHeight);\n            }\n            this.messageScroll.scrollTo(0, this.messageScroll.maxScrollY, 300);\n          });\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.message {\n  padding: 20px 15px;\n  overflow: hidden;\n\n  li {\n    margin-bottom: 15px;\n  }\n  .time {\n    margin: 7px 0;\n    text-align:center;\n\n    > span {\n      display: inline-block;\n      padding: 0 18px;\n      font-size: 12px;\n      color: #fff;\n      border-radius: 2px;\n      background-color: #dcdcdc;\n    }\n  }\n  .avatar {\n    float:left;\n    margin: 0 10px 0 0;\n    border-radius: 3px;\n  }\n  .text {\n    display: inline-block;\n    position: relative;\n    padding: 0 10px;\n    max-width: ~'calc(100% - 40px)';\n    min-height: 30px;\n    line-height: 2.5;\n    font-size: 12px;\n    text-align: left;\n    word-break: break-all;\n    background-color: #fafafa;\n    border-radius: 4px;\n\n    .line {\n      margin: 2px 0;\n      padding: 0;\n    }\n\n    &:before {\n      content: \" \";\n      position: absolute;\n      top: 9px;\n      right: 100%;\n      border: 6px solid transparent;\n      border-right-color: #fafafa;\n    }\n  }\n  .self{\n    text-align: right;\n\n    .avatar {\n      float: right;\n      margin: 0 0 0 10px;\n    }\n    .text{\n      background-color: #b2e281;\n\n      &:before {\n        right: inherit;\n        left: 100%;\n        border-right-color: transparent;\n        border-left-color: #b2e281;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Message.vue?25bf055a","<template>\n  <div class=\"list\">\n    <ul>\n      <li\n        v-for=\"item in filteredSessions\"\n        :key=\"item.id\"\n        :class=\"{active: item.id === currentSessionId}\"\n        @click=\"selectSession(item.id)\">\n        <img\n          class=\"avatar\"\n          width=\"30\"\n          height=\"30\"\n          :alt=\"item.user.name\"\n          :src=\"item.user.img\">\n        <p class=\"name\">{{item.user.name}}</p>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import { mapActions, mapState, mapGetters } from 'vuex';\n\n  export default {\n    methods: mapActions(['selectSession']),\n    computed: {\n      ...mapState(['currentSessionId']),\n      ...mapGetters(['filteredSessions'])\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .list {\n    li {\n      padding: 12px 15px;\n      border-bottom: 1px solid #292c33;\n      cursor: pointer;\n      transition: background-color .1s;\n\n      &:hover {\n        background-color: rgba(255, 255, 255, 0.03);\n      }\n      &.active {\n        background-color: rgba(255, 255, 255, 0.1);\n      }\n    }\n    .avatar, .name {\n      vertical-align: middle;\n    }\n    .avatar {\n      border-radius: 2px;\n    }\n    .name {\n      display: inline-block;\n      margin: 0 0 0 15px;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// SessionList.vue?7a47fb36","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-16110b27\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Editor.vue\n// module id = 377\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-426cdbca\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Card.vue\n// module id = 378\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7939548a\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/SessionList.vue\n// module id = 379\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-94575486\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Message.vue\n// module id = 380\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fcc0467c\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 381\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-426cdbca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Card.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Card.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-426cdbca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Card.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-426cdbca\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Card.vue\n// module id = 387\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16110b27\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16110b27\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-16110b27\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor.vue\n// module id = 388\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-94575486\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Message.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Message.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-94575486\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Message.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-94575486\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Message.vue\n// module id = 389\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7939548a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SessionList.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SessionList.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7939548a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SessionList.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7939548a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SessionList.vue\n// module id = 390\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"text\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.content),\n      expression: \"content\"\n    }],\n    attrs: {\n      \"placeholder\": \"按 Ctrl + Enter 发送\"\n    },\n    domProps: {\n      \"value\": (_vm.content)\n    },\n    on: {\n      \"keydown\": _vm.keySend,\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.content = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"send\",\n    on: {\n      \"click\": _vm.send\n    }\n  }, [_vm._v(\"Send\")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-16110b27\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\n// module id = 391\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"card\"\n  }, [_c('header', [_c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"height\": \"40\",\n      \"width\": \"40\",\n      \"alt\": _vm.user.name,\n      \"src\": _vm.user.img\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"name\"\n  }, [_vm._v(_vm._s(_vm.user.name))])]), _vm._v(\" \"), _c('footer', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.searchKey),\n      expression: \"searchKey\"\n    }],\n    staticClass: \"search\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"搜索会话...\"\n    },\n    domProps: {\n      \"value\": (_vm.searchKey)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.searchKey = $event.target.value\n      }\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-426cdbca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Card.vue\n// module id = 392\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.filteredSessions), function(item) {\n    return _c('li', {\n      key: item.id,\n      class: {\n        active: item.id === _vm.currentSessionId\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectSession(item.id)\n        }\n      }\n    }, [_c('img', {\n      staticClass: \"avatar\",\n      attrs: {\n        \"width\": \"30\",\n        \"height\": \"30\",\n        \"alt\": item.user.name,\n        \"src\": item.user.img\n      }\n    }), _vm._v(\" \"), _c('p', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(item.user.name))])])\n  }))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7939548a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/SessionList.vue\n// module id = 393\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"messageWrapper\",\n    staticClass: \"message\"\n  }, [(_vm.session) ? _c('ul', _vm._l((_vm.session.messages), function(item) {\n    return _c('li', {\n      ref: \"messageList\",\n      refInFor: true\n    }, [_c('p', {\n      staticClass: \"time\"\n    }, [_c('span', [_vm._v(_vm._s(_vm._f(\"time\")(item.date)))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"main\",\n      class: {\n        self: item.self\n      }\n    }, [_c('img', {\n      staticClass: \"avatar\",\n      attrs: {\n        \"width\": \"30\",\n        \"height\": \"30\",\n        \"src\": item.self ? _vm.user.img : _vm.session.user.img\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"text\"\n    }, _vm._l((item.content.split('\\n')), function(line) {\n      return _c('p', {\n        staticClass: \"line\"\n      }, [_vm._v(\"\\n            \" + _vm._s(line) + \"\\n          \")])\n    }))])])\n  })) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-94575486\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Message.vue\n// module id = 394\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app\"\n  }, [_c('div', {\n    staticClass: \"sidebar\"\n  }, [_c('card'), _vm._v(\" \"), _c('session-list')], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"main\"\n  }, [_c('message'), _vm._v(\" \"), _c('editor')], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-fcc0467c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 395\n// module chunks = 1","/**\n * Created by chenmf on 2017/6/23.\n */\nimport * as types from './mutation_types';\n\nconst mutations = {\n  // 从localStorage中初始化会话列表\n  [types.SET_SESSIONS] (state, {sessions}) {\n    state.sessions = sessions;\n  },\n\n  // 发送消息\n  [types.SEND_MESSAGE] (state, {content, self}) {\n    let session = state.sessions.find(item => item.id === state.currentSessionId);\n    session.messages.push({\n      content: content,\n      date: new Date(),\n      self: self\n    });\n  },\n\n  //  选择会话\n  [types.SELECT_SESSION] (state, {id}) {\n    state.currentSessionId = id;\n  },\n\n  //  设置筛选关键词\n  [types.SET_FILTER_KEY] (state, {key}) {\n    state.filterKey = key;\n  }\n};\n\nexport default mutations;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store/mutations\n// module id = 399\n// module chunks = 1"],"sourceRoot":""}